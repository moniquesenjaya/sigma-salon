{% extends 'base.html' %}
{% block content %}
{# Check if user is logged in and is also an admin #}
{% if not state["logged_in"] or not state["position"] == "Admin" %}
<h1>401 Error</h1>
<h2>Unauthorized access</h2>
{% else %}
<h1>Hi admin! Here are the appointments...</h1>
<br/>
<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">appointmentId</th>
      <th scope="col">date</th>
      <th scope="col">startTime</th>
      <th scope="col">endTime</th>
      <th scope="col">staffId</th>
      <th scope="col">custId</th>
      <th scope="col">serviceName</th>
      <th scope="col">progress</th>
    </tr>
  </thead>
  <tbody>
    {% for i in range(appointments|length) %}
    <tr>
      <th scope="row">{{appointments[i][0]}}</th>
      <td>{{appointments[i][1]}}</td>
      <td>{{appointments[i][2]}}</td>
      <td>{{appointments[i][3]}}</td>
      <td>{{appointments[i][4]}}</td>
      <td>{{appointments[i][5]}}</td>
      <td>{{appointments[i][6]}}</td>
      <td>{{appointments[i][7]}}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<br/>
{% endif %}
{% endblock %}
